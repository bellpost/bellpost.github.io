<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>牛奶品质探讨</title>
      <link href="/2020/07/16/milk-quality/"/>
      <url>/2020/07/16/milk-quality/</url>
      
        <content type="html"><![CDATA[<p><strong>导语：</strong>在推上看到有人讨论喝国内牛奶腹泻，喝国外牛奶从不腹泻，引起了我的好奇心，难道加工工艺有很大差别吗？还是奶质的差别？还是制度约束不够呢？这些问题我也无从回答，只是搜集相关资料整理。</p><a id="more"></a><h2 id="关于工艺"><a href="#关于工艺" class="headerlink" title="关于工艺"></a>关于工艺</h2><p>牛奶保质的工艺大致分为三种 <strong>超高温消毒法(UHT)、保久乳及巴氏消毒法</strong>  ，按现有的技术手段，技术实现的难度不大，特别是国内如此大的市场，按理来说，不存在缺资金使工艺不到位的情况。</p><p>工艺的优缺点一览：</p><table><thead><tr><th align="left">工艺</th><th align="center">消毒温度</th><th align="center">保质期</th><th align="center">营养价值</th><th align="center">价格</th><th align="right">微生物</th><th align="right">消化</th></tr></thead><tbody><tr><td align="left">超高温消毒法</td><td align="center">135~150°C</td><td align="center">室温保存半年以上</td><td align="center">低</td><td align="center">便宜</td><td align="right">无</td><td align="right">好</td></tr><tr><td align="left">保久乳</td><td align="center">128°C</td><td align="center">1-3月左右</td><td align="center">中等</td><td align="center">中等</td><td align="right">少量</td><td align="right">中等</td></tr><tr><td align="left">巴氏消毒法</td><td align="center">72-75°C</td><td align="center">室温1-2日冷藏6-10日</td><td align="center">高</td><td align="center">贵</td><td align="right">部分</td><td align="right">难</td></tr></tbody></table><h2 id="关于制度"><a href="#关于制度" class="headerlink" title="关于制度"></a>关于制度</h2><p>  牛奶质量问题一直是国内消费者担忧的关键，牛奶的安全事件一直不能在根本上消除，所以制度不完善，监督不到位，应该还是突出问题。</p><h2 id="关于奶质"><a href="#关于奶质" class="headerlink" title="关于奶质"></a>关于奶质</h2><p>   这个更是无从说起，喝牛奶最重要的是补充蛋白质。在蛋白质的含量上不同奶源可能不同，但这不是构成微生物不达标的因素。</p><h2 id="渠道问题"><a href="#渠道问题" class="headerlink" title="渠道问题"></a>渠道问题</h2><p>   商品流通跟渠道的关系重大，特别是奶制品，保质期时间短，存放环境要求高，不同公司对于监督渠道保存奶品的环境不够有力，也是牛奶问题的关键因素。</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p> 对于消费者，我们不可避免的要购买奶制品，如何才能喝到最好品质的牛奶呢？</p><ul><li>购买生产日期最近的奶制品</li><li>观察存放奶制品的环境是否是低温环境</li></ul>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> milk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Homebrew镜像源替换及还原镜像源|macOS</title>
      <link href="/2020/07/16/homebrew-source-replace-and-restore/"/>
      <url>/2020/07/16/homebrew-source-replace-and-restore/</url>
      
        <content type="html"><![CDATA[<p><strong>导语：</strong> Homebrew以前使用阿里云镜像源一直体验不佳，比较多的包请求不到，需要编译，十分慢及耗资源，所以换成清华大学镜像源,在此记录下。</p><a id="more"></a><h2 id="Homebrew镜像源替换"><a href="#Homebrew镜像源替换" class="headerlink" title="Homebrew镜像源替换"></a>Homebrew镜像源替换</h2><ul><li>替换清华大学镜像源<br> 将下面代码全部执行即可，下同</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> brew 程序本身，Homebrew相同</span></span><br><span class="line">git -C "$(brew --repo)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下针对 mac OS 系统上的 Homebrew</span></span><br><span class="line">git -C "$(brew --repo homebrew/core)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask-fonts)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-fonts.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask-drivers)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-drivers.git</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 更换后测试工作是否正常</span></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure><ul><li>替换阿里云镜像源</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 替换brew.git:</span></span><br><span class="line">git -C  "$(brew --repo)"  remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git</span><br><span class="line"><span class="meta">#</span><span class="bash"> 替换homebrew-core.git:</span></span><br><span class="line">git git -C "$(brew --repo homebrew/core)" remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git</span><br></pre></td></tr></table></figure><p>执行时出现如下错误，是没有安装相关homebrew的cask-fonts及cask-drivers组件，不影响homebrew正常使用，如果你想安装，则查看下面的解决办法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fatal: cannot change to '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask-fonts': No such file or directory</span><br><span class="line">fatal: cannot change to '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask-drivers': No such file or directory</span><br></pre></td></tr></table></figure><p><strong>解决办法</strong>:  安装相关组件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap homebrew/cask-fonts</span><br><span class="line">brew tap homebrew/cask-drivers</span><br></pre></td></tr></table></figure><h2 id="Homebrew还原镜像源"><a href="#Homebrew还原镜像源" class="headerlink" title="Homebrew还原镜像源"></a>Homebrew还原镜像源</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> brew 程序本身，Homebrew/Linuxbrew 相同</span></span><br><span class="line">git -C "$(brew --repo)" remote set-url origin https://github.com/Homebrew/brew.git</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下针对 mac OS 系统上的 Homebrew</span></span><br><span class="line">git -C "$(brew --repo homebrew/core)" remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask)" remote set-url origin https://github.com/Homebrew/homebrew-cask.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask-fonts)" remote set-url origin https://github.com/Homebrew/homebrew-cask-fonts.git</span><br><span class="line">git -C "$(brew --repo homebrew/cask-drivers)" remote set-url origin https://github.com/Homebrew/homebrew-cask-drivers.git</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 更换后测试工作是否正常</span></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure><h2 id="Homebrew-bottles-镜像替换"><a href="#Homebrew-bottles-镜像替换" class="headerlink" title="Homebrew-bottles 镜像替换"></a>Homebrew-bottles 镜像替换</h2><ul><li>临时替换</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles</span><br></pre></td></tr></table></figure><ul><li>长期替换（bash）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles' &gt;&gt; ~/.bash_profile</span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure><ul><li>长期替换（zsh）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles' &gt;&gt; ~/.zshrc</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/" target="_blank" rel="noopener">清华Homebrew镜像使用帮助</a></p><p><a href="https://developer.aliyun.com/mirror/homebrew" target="_blank" rel="noopener">阿里Homebrew镜像使用帮助</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL5.5编译安装</title>
      <link href="/2020/07/15/mysql-build-install/"/>
      <url>/2020/07/15/mysql-build-install/</url>
      
        <content type="html"><![CDATA[<p><strong>导语：</strong> 一篇老的blog，写的不好，勿怪。</p><a id="more"></a><h2 id="一-安装环境"><a href="#一-安装环境" class="headerlink" title="一.安装环境"></a>一.安装环境</h2><ul><li>系统版本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># head -n 1 /etc/issue</span></span><br><span class="line">CentOS release 6.5 (Final)</span><br></pre></td></tr></table></figure><ul><li><p>软件版本<br>cmake-3.3.0-rc3.tar.gz<br>mysql-5.5.48.tar.gz</p></li><li><p>安装编译代码需要环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y groupinstall <span class="string">"Development Tools"</span></span><br><span class="line"> yum install -y ncurses ncurses-devel</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="二-安装Cmake"><a href="#二-安装Cmake" class="headerlink" title="二.安装Cmake"></a>二.安装Cmake</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar xvf cmake-3.3.0-rc3.tar.gz</span></span><br><span class="line"><span class="comment"># cd cmake-3.3.0-rc3</span></span><br><span class="line">根据里面的README.rst文件，运行</span><br><span class="line"><span class="comment"># ./bootstrap</span></span><br><span class="line">没有error则</span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure><hr><h2 id="三-编译MySQL5-5使用参数解释"><a href="#三-编译MySQL5-5使用参数解释" class="headerlink" title="三.编译MySQL5.5使用参数解释"></a>三.编译MySQL5.5使用参数解释</h2><table><thead><tr><th align="left">cmake配置选项</th><th align="center">作用</th></tr></thead><tbody><tr><td align="left">-DCMAKE_INSTALL_PREFIX</td><td align="center">指定安装根目录</td></tr><tr><td align="left">-DMYSQL_DATADIR</td><td align="center">指定数据存储目录</td></tr><tr><td align="left">-DSYSCONFDIR</td><td align="center">配置文件(my.cnf)目录</td></tr><tr><td align="left">-DWITH_MYISAM_STORAGE_ENGINE</td><td align="center">启用MYISAM引擎支持</td></tr><tr><td align="left">-DWITH_INNOBASE_STORAGE_ENGINE=1</td><td align="center">启用InnoDB引擎支持</td></tr><tr><td align="left">-DWITH_MEMORY_STORAGE_ENGINE=1</td><td align="center">启用MEMORY引擎支持</td></tr><tr><td align="left">-DWITH_READLINE</td><td align="center">绑定readline的终端快捷键及历史记录功能，在mysql5.6已移除</td></tr><tr><td align="left">-DMYSQL_UNIX_ADDR</td><td align="center">UNIX套接字文件路径。必须是绝对路径名</td></tr><tr><td align="left">-DMYSQL_TCP_PORT</td><td align="center">指定TCP端口</td></tr><tr><td align="left">-DENABLED_LOCAL_INFILE</td><td align="center">是否启用对负荷数据文件在客户端库地方能力</td></tr></tbody></table><p><strong>可参考：</strong><br><a href="http://dev.mysql.com/doc/refman/5.5/en/source-configuration-options.html" target="_blank" rel="noopener">mysql5.6使用cmake配置选项官方介绍</a><br><a href="https://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html" target="_blank" rel="noopener">mysql5.7使用cmake配置选项官方介绍</a></p><hr><h2 id="四-编译安装MySQL5-5"><a href="#四-编译安装MySQL5-5" class="headerlink" title="四.编译安装MySQL5.5"></a>四.编译安装MySQL5.5</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar xvf mysql-5.5.48.tar.gz -C /usr/local/</span></span><br><span class="line"><span class="comment"># cd /usr/local/</span></span><br><span class="line">创建一个硬连接，主要是可以查看mysql的版本号。</span><br><span class="line"><span class="comment"># ln -sv mysql-5.5.48 mysql</span></span><br><span class="line"><span class="comment"># cd mysql</span></span><br><span class="line">查看各个文件的权限和属主属组</span><br><span class="line"><span class="comment"># ll </span></span><br><span class="line">total 648</span><br><span class="line">drwxr-xr-x.  2 7161 wheel   4096 Jan 14 21:47 BUILD</span><br><span class="line">-rw-r--r--.  1 7161 wheel   8528 Jan 14 21:38 BUILD-CMAKE</span><br><span class="line">drwxr-xr-x.  2 7161 wheel   4096 Jan 14 21:47 client</span><br><span class="line">drwxr-xr-x.  4 7161 wheel   4096 Jan 14 21:47 cmake</span><br><span class="line">-rw-r--r--.  1 7161 wheel  19216 Jan 14 21:38 CMakeLists.txt</span><br><span class="line">drwxr-xr-x.  4 7161 wheel   4096 Jan 14 21:47 cmd-line-utils</span><br><span class="line">-rw-r--r--.  1 7161 wheel  18583 Jan 14 21:38 config.h.cmake</span><br><span class="line">-rw-r--r--.  1 7161 wheel  33523 Jan 14 21:38 configure.cmake</span><br><span class="line">drwxr-xr-x.  3 7161 wheel   4096 Jan 14 21:47 extra</span><br><span class="line">drwxr-xr-x.  4 7161 wheel   4096 Jan 14 21:47 include</span><br><span class="line">-rw-r--r--.  1 7161 wheel 412459 Jan 14 21:47 INSTALL-SOURCE</span><br><span class="line">-rw-r--r--.  1 7161 wheel    247 Jan 14 21:38 INSTALL-WIN-SOURCE</span><br><span class="line">drwxr-xr-x.  3 7161 wheel   4096 Jan 14 21:47 libmysql</span><br><span class="line">drwxr-xr-x.  3 7161 wheel   4096 Jan 14 21:47 libmysqld</span><br><span class="line">drwxr-xr-x.  2 7161 wheel   4096 Jan 14 21:47 libservices</span><br><span class="line">drwxr-xr-x.  2 7161 wheel   4096 Jan 14 21:47 man</span><br><span class="line">drwxr-xr-x.  5 7161 wheel   4096 Jan 14 21:47 support-files</span><br><span class="line">-rw-r--r--.  1 7161 wheel     88 Jan 14 21:38 VERSION</span><br><span class="line">....</span><br><span class="line">查看README和INSTALL-SOURCE,了解安装信息,如下：</span><br><span class="line">shell&gt; yum search libaio  <span class="comment"># search for info</span></span><br><span class="line">shell&gt; yum install libaio <span class="comment"># install library</span></span><br><span class="line">shell&gt; groupadd mysql</span><br><span class="line">shell&gt; useradd -r -g mysql -s /bin/<span class="literal">false</span> mysql</span><br><span class="line">shell&gt; <span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">shell&gt; tar zxvf /path/to/mysql-VERSION-OS.tar.gz</span><br><span class="line">shell&gt; ln -s full-path-to-mysql-VERSION-OS mysql</span><br><span class="line">shell&gt; <span class="built_in">cd</span> mysql</span><br><span class="line">shell&gt; chown -R mysql .</span><br><span class="line">shell&gt; chgrp -R mysql .</span><br><span class="line">shell&gt; scripts/mysql_install_db --user=mysql</span><br><span class="line">shell&gt; chown -R root .</span><br><span class="line">shell&gt; chown -R mysql data</span><br><span class="line"><span class="comment"># Next command is optional</span></span><br><span class="line">shell&gt; cp support-files/my-medium.cnf /etc/my.cnf</span><br><span class="line">shell&gt; bin/mysqld_safe --user=mysql &amp;</span><br><span class="line"><span class="comment"># Next command is optional</span></span><br><span class="line">shell&gt; cp support-files/mysql.server /etc/init.d/mysql.server</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h5 id="上面的安装步骤是建立在已编译好的程序上的。那么，现在我们也开始准备编译mysql源码："><a href="#上面的安装步骤是建立在已编译好的程序上的。那么，现在我们也开始准备编译mysql源码：" class="headerlink" title="上面的安装步骤是建立在已编译好的程序上的。那么，现在我们也开始准备编译mysql源码："></a>上面的安装步骤是建立在已编译好的程序上的。那么，现在我们也开始准备编译mysql源码：</h5><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum install libaio</span></span><br><span class="line"><span class="comment"># groupadd mysql</span></span><br><span class="line"><span class="comment"># useradd -r -g mysql -s /bin/false mysql</span></span><br><span class="line"><span class="comment"># cd /usr/local/mysql</span></span><br><span class="line"><span class="comment"># chown -R mysql.mysql .</span></span><br><span class="line"><span class="comment"># mkdir /data</span></span><br><span class="line"><span class="comment"># chown -R mysql /data</span></span><br><span class="line"><span class="comment"># chmod u+x scripts/*</span></span><br><span class="line"></span><br><span class="line">用cmake编译</span><br><span class="line"><span class="comment"># cmake . \</span></span><br><span class="line">-DCMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span>/mysql \</span><br><span class="line">-DMYSQL_DATADIR=/data \</span><br><span class="line">-DSYSCONFDIR=/etc \</span><br><span class="line">-DWITH_MYISAM_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_INNOBASE_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_MEMORY_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_READLINE=1 \</span><br><span class="line">-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock \</span><br><span class="line">-DMYSQL_TCP_PORT=3306 \</span><br><span class="line">-DENABLED_LOCAL_INFILE=1 \</span><br><span class="line">-DWITH_PARTITION_STORAGE_ENGINE=1 \</span><br><span class="line">-DEXTRA_CHARSETS=all \</span><br><span class="line">-DDEFAULT_CHARSET=utf8 \</span><br><span class="line">-DDEFAULT_COLLATION=utf8_general_ci</span><br><span class="line"></span><br><span class="line">如果想清理此前的编译所生成的文件，则需要使用如下命令：</span><br><span class="line">make clean</span><br><span class="line">rm CMakeCache.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># make &amp;&amp; make install</span></span><br><span class="line">使用<span class="comment"># scripts/mysql_install_db --help 查看初始化mysql的帮助信息</span></span><br><span class="line"><span class="comment"># scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/data --user=mysql</span></span><br><span class="line"><span class="comment"># chown -R root /usr/local/mysql/*</span></span><br><span class="line"><span class="comment"># cp support-files/mysql.server /etc/init.d/mysqld</span></span><br><span class="line">查看mysqld有没有执行权限，如没有，则：</span><br><span class="line"> <span class="comment"># chmod +x /etc/init.d/mysqld</span></span><br><span class="line"> 然后继续添加服务自启：</span><br><span class="line"> <span class="comment"># chkconfig --add mysqld</span></span><br><span class="line"> <span class="comment"># chkconfig --list mysqld</span></span><br></pre></td></tr></table></figure><p><strong>TIPS：</strong> mysql查找配置文件的位置，按照如下的顺序查找。</p><p>/etc/my.cnf –&gt;/etc/mysql/my.cnf –&gt;$BASEDIR/my.cnf（安装目录） –&gt;~/.my.cnf(家目录)<br>一一查询完后，以最后一个为准。<br>根据自己主机的资源，配置选择my.cnf。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cp support-files/my-large.cnf /etc/my.cnf</span></span><br><span class="line">在/etc/my.cnf的[mysqld]中添加datadir = /data</span><br></pre></td></tr></table></figure><hr><h2 id="五-将mysql的安装目录的bin加入PATH："><a href="#五-将mysql的安装目录的bin加入PATH：" class="headerlink" title="五.将mysql的安装目录的bin加入PATH："></a>五.将mysql的安装目录的bin加入PATH：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">将</span><br><span class="line">PATH=<span class="variable">$PATH</span>：/usr/<span class="built_in">local</span>/mysql/bin</span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line">这两行加入到/etc/profile的末尾，注意不要在等号的左右加空格，不然会报错。</span><br><span class="line"><span class="comment"># source /etc/profile</span></span><br></pre></td></tr></table></figure><h2 id="六-输出mysql的man手册至man命令的查找路径："><a href="#六-输出mysql的man手册至man命令的查找路径：" class="headerlink" title="六.输出mysql的man手册至man命令的查找路径："></a>六.输出mysql的man手册至man命令的查找路径：</h2><p>如果你使用的是最小系统安装，则没有安装man手册，执行如下命令安装man手册：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install -y man-pages man-pages-overrides</span><br><span class="line">cp /etc/man.config.rpmnew /etc/man.config</span><br></pre></td></tr></table></figure><p>编辑/etc/man.config，添加如下行即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MANPATH  /usr/<span class="built_in">local</span>/mysql/man</span><br></pre></td></tr></table></figure><h2 id="七-输出mysql的头文件至系统头文件路径-usr-include："><a href="#七-输出mysql的头文件至系统头文件路径-usr-include：" class="headerlink" title="七.输出mysql的头文件至系统头文件路径/usr/include："></a>七.输出mysql的头文件至系统头文件路径/usr/include：</h2><p>这可以通过简单的创建链接实现：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ln -sv /usr/local/mysql/include  /usr/include/mysql</span></span><br></pre></td></tr></table></figure><h2 id="八-输出mysql的库文件给系统库查找路径："><a href="#八-输出mysql的库文件给系统库查找路径：" class="headerlink" title="八.输出mysql的库文件给系统库查找路径："></a>八.输出mysql的库文件给系统库查找路径：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># echo '/usr/local/mysql/lib' &gt; /etc/ld.so.conf.d/mysql.conf</span></span><br><span class="line">而后让系统重新载入系统库：</span><br><span class="line"><span class="comment"># ldconfig -v</span></span><br></pre></td></tr></table></figure><p><strong>到此结束。动手做一做吧！</strong></p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
